<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog Card</title>
  <link rel="stylesheet" href="/singleBlog.css">
</head>
<body>
  <!-- Navbar -->
  <%- include('./navbar.ejs') %>

  <div class="blog-card">
    <!-- Local Host -->
    <img src="<%- blog.image %>" alt="Blog Image" class="blog-image">
    <!-- Production -->
    <!-- <img src="https://content-management-system-iyor.onrender.com/<%- blog.image %>" alt="Blog Image" class="blog-image"> -->
    <div class="blog-content">
      <h2 class="blog-title"><%- blog.title %></h2>
      <p class="blog-date">Published on: <%- new Date(blog.createdAt).toDateString() %></p>
      <p class="blog-description"><%- blog.description %></p>
      <!-- <p class="blog-author">Author: <%- blog.user.username %></p> -->
        <!-- or -->
      <p class="blog-author">Author: <%- blog.user ? blog.user.username : 'Unknown' %></p>

      
      <!-- ** Note to activate "Raw Queries using sequelize", first need to remove above linecode of: 22,23,24  code from this page and then uncomment the below line code of: 29 code. -->
      <!-- **For Raw Queries using sequelize -->
      <!-- <p class="blog-author">Author: <%- blog.user ? blog.user : 'Unknown' %></p> -->


      <!-- <button class="delete-button"><a href="/delete/<%- blog.id %>">Delete</a></button> -->
      <!-- <button class="edit-button"><a href="/edit/<%- blog.id %>">Edit</a></button> -->
      <div class="blog-actions">

        <% if(currentUser){ %>
          <% if(currentUserId == blog.user.id){ %>
            <button class="btn edit-btn"><a href="/edit/<%- blog.id %>">Edit</a></button>
            <button class="btn delete-btn"><a href="/delete/<%- blog.id %>">Delete</a></button>
            <% } %>
            <% } %>
      </div>
    </div>
  </div>

  <!-- footer -->
  <%- include('./footer.ejs') %>

</body>
</html>
