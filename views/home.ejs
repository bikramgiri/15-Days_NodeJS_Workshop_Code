<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="home.css">
</head>
<body>
    <!-- Navigation Bar -->
    <%- include('./navbar.ejs') %>

    <!-- Main Content -->
    <div class="container">
        <p id="success" style="text-align: center; color: green;";"><%- success %></p>
        <% blogs.forEach(function(blog){ %>
            <div class="card">
                <img src="<%- blog.image %>" alt="Image">
                <h3> <%- blog.title %></h3>
                <p class="published-date">Published on: <%- new Date(blog.createdAt).toDateString() %></p>
                <p class="meta-description"> <%- blog.description.slice(0, 100) %></p>
                <!-- <p class="blog-author">Author: <%- blog.user.username %></p> --> 
                <!-- or -->
                <p class="blog-author">Author: <%- blog.user ? blog.user.username : 'Unknown' %></p>
                

                <!-- ** Note to activate "Raw Queries using sequelize", first need to remove above linecode of: 22,23,24, 26 ccode from this page and then uncomment the below line code of: 29 code. -->
                <!-- **For Raw Queries using sequelize -->
                <!-- <p class="blog-author">Author: <%- blog.user ? blog.user : 'Unknown' %></p> -->

                <button class="read-more"><a href="/blog/<%- blog.id %>">Read More</a></button>
            </div>
        <% }) %>
    </div>

    <!-- Footer -->
    <%- include('./footer.ejs') %>
    <script>
        // Hide success message after 3 seconds
        const success = document.getElementById('success');
        setTimeout(() => {
            success.style.display = 'none';
        }, 1000);
    </script>
</body>
</html>
